{% extends "base.html" %}
{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-body">
                    <div class="text-center mb-4">
                        <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                        <h2 class="mt-3">Order Confirmed!</h2>
                        <p class="lead">Thank you for your purchase</p>
                    </div>
                    
                    <div class="order-details mb-4">
                        <h4>Order Details</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Order ID:</strong> #{{ order.id }}</p>
                                <p><strong>Date:</strong> {{ order.created_at.strftime('%B %d, %Y') }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Payment Status:</strong> <span class="badge bg-success">{{ order.payment_status }}</span></p>
                                <p><strong>Payment ID:</strong> {{ order.payment_id }}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-items mb-4">
                        <h4>Order Items</h4>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Product</th>
                                        <th>Quantity</th>
                                        <th class="text-end">Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in order_items %}
                                    <tr>
                                        <td>{{ item.product.name }}</td>
                                        <td>{{ item.quantity }}</td>
                                        <td class="text-end">₹{{ item.price }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="2" class="text-end"><strong>Subtotal:</strong></td>
                                        <td class="text-end">₹{{ order.subtotal }}</td>
                                    </tr>
                                    {% if order.discount %}
                                    <tr>
                                        <td colspan="2" class="text-end"><strong>Discount:</strong></td>
                                        <td class="text-end">-₹{{ order.discount }}</td>
                                    </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="2" class="text-end"><strong>Tax:</strong></td>
                                        <td class="text-end">₹{{ order.tax }}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="text-end"><strong>Shipping:</strong></td>
                                        <td class="text-end">₹{{ order.shipping }}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="text-end"><strong>Total:</strong></td>
                                        <td class="text-end"><strong>₹{{ order.total }}</strong></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                    
                    <div class="shipping-info mb-4">
                        <h4>Shipping Information</h4>
                        <p>
                            {{ order.shipping_address }}<br>
                            {{ order.shipping_city }}, {{ order.shipping_state }} {{ order.shipping_pincode }}
                        </p>
                    </div>
                    
                    <div class="text-center mt-4">
                        <a href="{{ url_for('main.index') }}" class="btn btn-primary">Continue Shopping</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}